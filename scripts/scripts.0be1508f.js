"use strict";angular.module("parkattackgithubioApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]),angular.module("parkattackgithubioApp").controller("MainCtrl",["$scope","$location","Auth",function(a,b,c){"localhost"==b.host()&&(a.debug=!0),a.user={},a.logout=function(){c.$unauth(),a.user={}},a.login=function(){c.$authWithPassword({email:a.user.email,password:a.user.email}).then(function(b){a.user.uid=b.uid})["catch"](function(b){a.error=b,a.register()})},a.register=function(){c.$createUser({email:a.user.email,password:a.user.email}).then(function(b){a.login()})["catch"](function(b){a.error=b})},a.auth=c,a.auth.$onAuth(function(b){a.authData=b,b&&(b.uid&&(a.user.uid=b.uid),b.password&&(b.password.profileImageURL&&(a.user.avatar=b.password.profileImageURL),b.password.email&&(a.user.email=b.password.email)))})}]),angular.module("parkattackgithubioApp").factory("Auth",["$firebaseAuth","$rootScope",function(a,b){var c=new Firebase("https://parkattack.firebaseio.com");return a(c)}]),angular.module("parkattackgithubioApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/login.html",'<form> <div class="form-group col-md-4"> <input type="email" class="form-control" placeholder="email" required autofocus> </div> <div class="form-group col-md-4"> <input type="password" class="form-control" placeholder="password" required> </div> <div class="form-group col-md-4"> <input type="submit" class="btn btn-primary" value="sign up / login"> </div> </form>'),a.put("views/main.html",'<div class="jumbotron"> <p class="lead"> <img src="images/parkattack500x425.97a911c9.png" alt="let\'s play"> </p> </div> <div class="row marketing"> <h3>coming soon:</h3> <ul> <li>Friday, September 4th 2015 in Phase 2 LaunchPad aka "the den"...</li> </ul> </div> <div class="row marketing"> <h4>join in...</h4> <p> <a href="https://plymouthsciencepark.slack.com/messages/parkattack/">...the conversation</a> </p> </div> <div class="row" ng-show="user.uid"> <h4> <img ng-src="{{user.avatar}}" ng-show="user.avatar" class="img-rounded" style="width:30px; height: 30px"> Hi {{user.email}}! </h4> <p><a ng-click="logout()">logout</a></p> </div> <div class="row" ng-show="!user.uid"> <form ng-submit="login()"> <div class="form-group col-md-6"> <input type="email" class="form-control" placeholder="email" ng-model="user.email" required autofocus> </div> <div class="form-group col-md-6"> <input type="submit" value="sign up / login" class="btn btn-primary"> </div> </form> <p> tip: if you sign up with your work email address, you\'ll see other people and Park Attack teams from your company. </p> </div> <div class="row" ng-show="debug"> <pre>{{authData | json}}</pre> <pre>{{user | json}}</pre> <pre>{{error | json}}</pre> </div>')}]);