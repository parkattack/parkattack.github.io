"use strict";angular.module("parkattackgithubioApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase"]),angular.module("parkattackgithubioApp").run(["$rootScope","$location","Auth","User",function(a,b,c,d){a.auth=c,a.auth.$onAuth(function(b){a.authData=b,b&&b.uid&&(a.user=d.get(b.uid))}),a.debug=!1}]),angular.module("parkattackgithubioApp").config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/steps",{templateUrl:"views/steps.html",controller:"StepsCtrl",controllerAs:"steps"}).otherwise({redirectTo:"/"})}]),angular.module("parkattackgithubioApp").controller("MainCtrl",["$scope","$rootScope","$location","$routeParams","Auth","User",function(a,b,c,d,e,f){a.debug=b.debug,a.user=b.user,a.showRegistration=!1,a.logout=function(){e.$unauth(),a.user=b.user={}},a.go=function(d){d?e.$createUser({email:a.user.email,password:a.user.password}).then(function(b){e.$authWithPassword({email:a.user.email,password:a.user.password}).then(function(b){f.add(b.uid,{email:a.user.email,name:a.user.name,company:a.user.company,avatar:b.password.profileImageURL}),c.path("/steps")})["catch"](function(b){a.error=b})})["catch"](function(b){a.error=b}):e.$authWithPassword({email:a.user.email,password:a.user.password}).then(function(d){d&&d.uid&&(a.user=b.user=f.get(d.uid)),c.path("/steps")})["catch"](function(b){a.error=b})}}]),angular.module("parkattackgithubioApp").constant("FIREBASE_URL","https://parkattack.firebaseio.com/"),angular.module("parkattackgithubioApp").factory("Ref",["FIREBASE_URL",function(a){return new Firebase(a)}]),angular.module("parkattackgithubioApp").factory("Auth",["$firebaseAuth","$rootScope","Ref",function(a,b,c){return a(c)}]),angular.module("parkattackgithubioApp").factory("StepChallenge",["$firebaseArray","Ref",function(a,b){return{get:function(c){return a(b.child("StepChallenge").child(c))},add:function(c,d){return b.child("StepChallenge").child(c).set(d),a(b.child("StepChallenge").child(c))}}}]),angular.module("parkattackgithubioApp").factory("Users",["$firebaseArray","Ref",function(a,b){return a(b.child("Users"))}]),angular.module("parkattackgithubioApp").factory("User",["$firebaseObject","Ref",function(a,b){return{get:function(c){return a(b.child("Users").child(c))},add:function(c,d){return b.child("Users").child(c).set(d),a(b.child("Users").child(c))}}}]),angular.module("parkattackgithubioApp").service("ProperNounFormatter",function(){return{spacify:function(a,b){return a.indexOf(".")>0||a.indexOf("_")>0||a.indexOf("-")>0?a=a.split(/[\._\-]/).map(function(a){return a.charAt(0).toUpperCase()+a.slice(1)}).join(" "):/[A-Z]/.test(a)&&(a=b?a.replace(/([a-z])([A-Z])/g,"$1 $2"):a.replace(/^[a-z]|[A-Z]/g,function(a,b){return 0===b?a:" "+a})),a}}}),angular.module("parkattackgithubioApp").controller("StepsCtrl",["$scope","$rootScope","StepChallenge","$firebaseArray","Ref",function(a,b,c,d,e){a.debug=b.debug,a.user=b.user,a.go=function(){c.add("test",[{user:b.authData.uid,date:a.newSteps.date,steps:a.newSteps.steps}])};var f=e.child("StepChallenge");a.steps=d(f);var g=f.orderByChild("timestamp").limitToLast(25);a.filteredSteps=d(g)}]),angular.module("parkattackgithubioApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/login.html",'<form> <div class="form-group col-md-4"> <input type="email" class="form-control" placeholder="email" required autofocus> </div> <div class="form-group col-md-4"> <input type="password" class="form-control" placeholder="password" required> </div> <div class="form-group col-md-4"> <input type="submit" class="btn btn-primary" value="sign up / login"> </div> </form>'),a.put("views/main.html",'<p class="text-center"> <img src="images/parkattack500x425.97a911c9.png" alt="let\'s play" style="width: 500px"> <img src="images/ready-to-play.c454795e.png" alt="are you ready to play" style="width: 100%; max-width: 923px"> </p> <div class="text-center" style="margin-top: 0; margin-bottom: 0; padding-top: 0; padding-bottom: 0"> <img src="images/09-04.6577a919.png" alt="September 4th" style="width: 100%; max-width: 988px"> </div> <div class="text-center" style="margin-top: 0; margin-bottom: 30px; padding-top: 0; padding-bottom: 0"> <img src="images/hashtag-parkattack.8733e745.png" alt="September 4th" style="width: 100%; max-width: 988px"> </div> <div class="div-rounded" style="background-color: #e3026c; padding-top: 50px; padding-bottom: 50px" ng-show="!user.uid"> <div class="text-center"> <img src="images/sign-up.dc553af2.png" style="width: 100%; max-width: 988px"> </div> <div class="container" style="padding-top: 50px"> <div ng-show="user.avatar"> <h4> <img ng-src="{{user.avatar}}" ng-show="user.avatar" class="img-rounded" style="width:30px; height: 30px"> Hi {{user.name}}! </h4> <p><a href ng-click="logout()">logout</a></p> </div> <div ng-show="!user.avatar"> <form ng-submit="go(showRegistration)" ng-show="!user.avatar"> <div class="row" ng-hide="!showRegistration"> <div class="form-group col-md-4"> <input type="text" class="form-control" placeholder="your name" ng-model="user.name"> </div> <div class="form-group col-md-4"> <input type="text" class="form-control" placeholder="company" ng-model="user.company"> </div> </div> <div class="row"> <div class="form-group col-md-4"> <input type="email" class="form-control" placeholder="email" ng-model="user.email" required> </div> <div class="form-group col-md-4"> <input type="password" class="form-control" placeholder="password" ng-model="user.password" required> </div> <div class="col-md-2"> <input type="submit" class="form-control btn btn-primary" value="login" style="display: inline"> </div> <div class="col-md-2"> <input type="button" class="form-control btn btn-default" value="sign up" ng-click="showRegistration=true" style="display: inline" ng-hide="showRegistration"> </div> </div> </form></div>  </div> </div> <div class="text-center" style="margin-top: 0; margin-bottom: 0; padding-top: 20px; padding-bottom: 0" ng-show="!user.uid"> <div class="container"> <img src="images/hosted-by.a9fd5aec.png" alt="Hosted By"> </div> </div> <div class="row" ng-show="debug"> <pre>{{authData | json}}</pre> <pre>{{user | json}}</pre> <pre>{{error | json}}</pre> </div>'),a.put("views/steps.html",'<div class="row" ng-show="user.$id"> <img src="images/walking.2481d01e.jpg" alt="https://www.flickr.com/photos/lancesh/190382917" class="img-rounded"> <form ng-submit="go()"> <div class="form-group col-md-4"> <input type="date" class="form-control" ng-model="newSteps.date" required> </div> <div class="form-group col-md-4"> <input type="number" class="form-control" ng-model="newSteps.steps" required> </div> <div class="form-group col-md-4"> <input type="submit" class="form-control btn btn-primary" value="go"> </div> </form> </div> <div class="row" ng-show="debug"> <pre>{{authData | json}}</pre> <pre>{{user | json}}</pre> <pre>{{error | json}}</pre> </div>')}]);